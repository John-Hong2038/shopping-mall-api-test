openapi: 3.0.0
info:
  title: ë„¤ì´ë²„ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ API - Sotatek Test
  version: 1.0.0
  description: |
    ## ì¸ì¦ ì •ë³´
    - Application ID: 5TGnBVoGoWQgKYg6KrDcKW
    - Store: sotatek test
    - API í˜¸ì¶œ IP: 162.120.185.40
    - ë¬¸ì„œ ì‘ì„±ì¼: 2025ë…„ 9ì›” 19ì¼

servers:
  - url: https://api.commerce.naver.com
    description: ë„¤ì´ë²„ ì»¤ë¨¸ìŠ¤ API ì„œë²„

tags:
  - name: ì¸ì¦
    description: OAuth 2.0 í† í° ë°œê¸‰
  - name: ìƒí’ˆ ê´€ë¦¬
    description: ìƒí’ˆ ì¡°íšŒ, ë“±ë¡, ìˆ˜ì •
  - name: ì£¼ë¬¸ ê´€ë¦¬
    description: ì£¼ë¬¸ ì¡°íšŒ, ìƒíƒœ ë³€ê²½, ì·¨ì†Œ

paths:
  # ===== í† í° ë°œê¸‰ (ì œì¼ ë¨¼ì € ì‹¤í–‰!) =====
  /external/v1/oauth2/token:
    post:
      tags:
        - ì¸ì¦
      summary: ğŸ”‘ Access Token ë°œê¸‰ (ë¨¼ì € ì‹¤í–‰í•˜ì„¸ìš”!)
      description: |
        ## ì´ APIë¥¼ ë¨¼ì € ì‹¤í–‰í•´ì•¼ ë‹¤ë¥¸ API ì‚¬ìš© ê°€ëŠ¥!
        1. Try it out í´ë¦­
        2. client_secret ì…ë ¥ (íŒ€ ë¦¬ë”ì—ê²Œ ë¬¸ì˜)
        3. Execute ì‹¤í–‰
        4. ì‘ë‹µì—ì„œ access_token ë³µì‚¬
        5. ë‹¤ë¥¸ APIì˜ Authorization í—¤ë”ì— "Bearer {í† í°}" í˜•ì‹ìœ¼ë¡œ ì…ë ¥
      requestBody:
        required: true
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              required:
                - client_id
                - client_secret
                - grant_type
                - type
              properties:
                client_id:
                  type: string
                  default: "5TGnBVoGoWQgKYg6KrDcKW"
                  description: ì• í”Œë¦¬ì¼€ì´ì…˜ ID
                client_secret:
                  type: string
                  example: "YOUR_SECRET_KEY_HERE"
                  description: ì‹œí¬ë¦¿ í‚¤ë¥¼ ì—¬ê¸°ì— ì…ë ¥í•˜ì„¸ìš”
                grant_type:
                  type: string
                  default: "client_credentials"
                type:
                  type: string
                  default: "SELF"
                  enum: [SELF, SELLER]
      responses:
        200:
          description: í† í° ë°œê¸‰ ì„±ê³µ
          content:
            application/json:
              schema:
                type: object
                properties:
                  access_token:
                    type: string
                    description: ì´ í† í°ì„ ë³µì‚¬í•´ì„œ ì‚¬ìš©í•˜ì„¸ìš”
                  token_type:
                    type: string
                  expires_in:
                    type: integer
              example:
                access_token: "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
                token_type: "Bearer"
                expires_in: 86400

  # ===== ìƒí’ˆ ì¡°íšŒ =====
  /external/v2/products:
    get:
      tags:
        - ìƒí’ˆ ê´€ë¦¬
      summary: ìƒí’ˆ ì¡°íšŒ
      description: |
        ## Authorization í•„ìˆ˜
        í† í° ë°œê¸‰ APIì—ì„œ ë°›ì€ access_tokenì„ ì‚¬ìš©
        í˜•ì‹: Bearer {access_token}
      parameters:
        - name: Authorization
          in: header
          required: true
          description: "Bearer {access_token} í˜•ì‹ìœ¼ë¡œ ì…ë ¥"
          schema:
            type: string
            example: "Bearer eyJ0eXAiOiJKV1QiLCJhbGc..."
        - name: page
          in: query
          description: í˜ì´ì§€ ë²ˆí˜¸
          schema:
            type: integer
            default: 1
        - name: size
          in: query
          description: í˜ì´ì§€ ì‚¬ì´ì¦ˆ
          schema:
            type: integer
            default: 10
      responses:
        200:
          description: ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object
                      properties:
                        productNo:
                          type: string
                        name:
                          type: string
                        salePrice:
                          type: integer
                        stockQuantity:
                          type: integer
        401:
          description: ì¸ì¦ ì‹¤íŒ¨ - í† í°ì„ í™•ì¸í•˜ì„¸ìš”

  # ===== ìƒí’ˆ ë“±ë¡ =====
  /external/v2/products:
    post:
      tags:
        - ìƒí’ˆ ê´€ë¦¬
      summary: ìƒí’ˆ ë“±ë¡
      description: ì‹ ê·œ ìƒí’ˆì„ ë“±ë¡í•©ë‹ˆë‹¤
      parameters:
        - name: Authorization
          in: header
          required: true
          description: "Bearer {access_token} í˜•ì‹ìœ¼ë¡œ ì…ë ¥"
          schema:
            type: string
            example: "Bearer eyJ0eXAiOiJKV1QiLCJhbGc..."
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - salePrice
                - stockQuantity
              properties:
                name:
                  type: string
                  example: "í…ŒìŠ¤íŠ¸ ìƒí’ˆ"
                  description: ìƒí’ˆëª…
                salePrice:
                  type: integer
                  example: 10000
                  description: íŒë§¤ê°€ê²©
                stockQuantity:
                  type: integer
                  example: 100
                  description: ì¬ê³ ìˆ˜ëŸ‰
                detailContent:
                  type: string
                  example: "<p>ìƒí’ˆ ìƒì„¸ ì„¤ëª…ì…ë‹ˆë‹¤</p>"
                  description: ìƒí’ˆ ìƒì„¸ì„¤ëª… (HTML)
                images:
                  type: array
                  description: ìƒí’ˆ ì´ë¯¸ì§€
                  items:
                    type: object
                    properties:
                      imageUrl:
                        type: string
                        example: "https://example.com/image.jpg"
                      imageOrder:
                        type: integer
                        example: 1
      responses:
        201:
          description: ë“±ë¡ ì„±ê³µ
          content:
            application/json:
              schema:
                type: object
                properties:
                  productNo:
                    type: string
                    example: "1234567890"

  # ===== ìƒí’ˆ ìˆ˜ì • =====
  /external/v2/products/{productId}:
    put:
      tags:
        - ìƒí’ˆ ê´€ë¦¬
      summary: ìƒí’ˆ ìˆ˜ì •
      description: ê¸°ì¡´ ìƒí’ˆ ì •ë³´ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤
      parameters:
        - name: Authorization
          in: header
          required: true
          description: "Bearer {access_token} í˜•ì‹ìœ¼ë¡œ ì…ë ¥"
          schema:
            type: string
            example: "Bearer eyJ0eXAiOiJKV1QiLCJhbGc..."
        - name: productId
          in: path
          required: true
          description: ìƒí’ˆ ë²ˆí˜¸
          schema:
            type: string
            example: "1234567890"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "ìˆ˜ì •ëœ ìƒí’ˆëª…"
                salePrice:
                  type: integer
                  example: 15000
                stockQuantity:
                  type: integer
                  example: 50
      responses:
        200:
          description: ìˆ˜ì • ì„±ê³µ

  # ===== ì£¼ë¬¸ ì¡°íšŒ =====
  /external/v1/pay-order/seller/orders:
    get:
      tags:
        - ì£¼ë¬¸ ê´€ë¦¬
      summary: ì£¼ë¬¸ ì¡°íšŒ
      description: íŠ¹ì • ê¸°ê°„ì˜ ì£¼ë¬¸ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤
      parameters:
        - name: Authorization
          in: header
          required: true
          description: "Bearer {access_token} í˜•ì‹ìœ¼ë¡œ ì…ë ¥"
          schema:
            type: string
            example: "Bearer eyJ0eXAiOiJKV1QiLCJhbGc..."
        - name: lastChangeStatusFrom
          in: query
          required: true
          description: ì¡°íšŒ ì‹œì‘ì¼
          schema:
            type: string
            example: "2025-09-01T00:00:00+09:00"
        - name: lastChangeStatusTo
          in: query
          required: true
          description: ì¡°íšŒ ì¢…ë£Œì¼
          schema:
            type: string
            example: "2025-09-19T23:59:59+09:00"
        - name: lastChangeStatuses
          in: query
          description: ì£¼ë¬¸ ìƒíƒœ í•„í„°
          schema:
            type: string
            enum: [PAY_DONE, DISPATCH_DONE, PURCHASE_CONFIRM, CANCELED]
            example: "PAY_DONE"
      responses:
        200:
          description: ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        orderNo:
                          type: string
                        paymentDate:
                          type: string
                        orderStatus:
                          type: string
                        productName:
                          type: string
                        totalAmount:
                          type: integer

  # ===== ì£¼ë¬¸ ìƒíƒœ ë³€ê²½ (ë°œì†¡ ì²˜ë¦¬) =====
  /external/v1/pay-order/seller/orders/{orderId}/dispatch:
    put:
      tags:
        - ì£¼ë¬¸ ê´€ë¦¬
      summary: ì£¼ë¬¸ ìƒíƒœ ë³€ê²½
      description: ì£¼ë¬¸ì„ ë°œì†¡ ì²˜ë¦¬í•˜ê³  ì†¡ì¥ë²ˆí˜¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
      parameters:
        - name: Authorization
          in: header
          required: true
          description: "Bearer {access_token} í˜•ì‹ìœ¼ë¡œ ì…ë ¥"
          schema:
            type: string
            example: "Bearer eyJ0eXAiOiJKV1QiLCJhbGc..."
        - name: orderId
          in: path
          required: true
          description: ì£¼ë¬¸ ë²ˆí˜¸
          schema:
            type: string
            example: "2025091912345678"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                dispatchDetails:
                  type: array
                  items:
                    type: object
                    required:
                      - deliveryCompany
                      - trackingNumber
                    properties:
                      deliveryCompany:
                        type: string
                        enum: [CJGLS, HANJIN, LOTTE, POST, LOGEN]
                        example: "CJGLS"
                        description: |
                          íƒë°°ì‚¬ ì½”ë“œ
                          - CJGLS: CJëŒ€í•œí†µìš´
                          - HANJIN: í•œì§„íƒë°°
                          - LOTTE: ë¡¯ë°íƒë°°
                          - POST: ìš°ì²´êµ­
                          - LOGEN: ë¡œì  íƒë°°
                      trackingNumber:
                        type: string
                        example: "123456789012"
                        description: ì†¡ì¥ë²ˆí˜¸
      responses:
        200:
          description: ë°œì†¡ ì²˜ë¦¬ ì„±ê³µ

  # ===== ì£¼ë¬¸ ì·¨ì†Œ =====
  /external/v1/pay-order/seller/orders/{orderId}/cancel:
    post:
      tags:
        - ì£¼ë¬¸ ê´€ë¦¬
      summary: ì£¼ë¬¸ ì·¨ì†Œ
      description: ì£¼ë¬¸ì„ ì·¨ì†Œ ì²˜ë¦¬í•©ë‹ˆë‹¤
      parameters:
        - name: Authorization
          in: header
          required: true
          description: "Bearer {access_token} í˜•ì‹ìœ¼ë¡œ ì…ë ¥"
          schema:
            type: string
            example: "Bearer eyJ0eXAiOiJKV1QiLCJhbGc..."
        - name: orderId
          in: path
          required: true
          description: ì£¼ë¬¸ ë²ˆí˜¸
          schema:
            type: string
            example: "2025091912345678"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - cancelReason
              properties:
                cancelReason:
                  type: string
                  enum: [INTENT_CHANGED, SOLD_OUT, DELIVERY_DELAYED]
                  example: "SOLD_OUT"
                  description: |
                    ì·¨ì†Œ ì‚¬ìœ 
                    - INTENT_CHANGED: êµ¬ë§¤ ì˜ì‚¬ ì·¨ì†Œ
                    - SOLD_OUT: í’ˆì ˆ
                    - DELIVERY_DELAYED: ë°°ì†¡ ì§€ì—°
                cancelDetailReason:
                  type: string
                  example: "ì¬ê³  ë¶€ì¡±ìœ¼ë¡œ ì¸í•œ ì·¨ì†Œ"
                  description: ìƒì„¸ ì·¨ì†Œ ì‚¬ìœ 
      responses:
        200:
          description: ì·¨ì†Œ ì„±ê³µ
