openapi: 3.0.0
info:
  title: ë„¤ì´ë²„ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ API - Sotatek Test
  version: 1.0.0
  description: |
    ## ì¸ì¦ ì •ë³´
    - Application ID: 5TGnBVoGoWQgKYg6KrDcKW
    - Store: sotatek test
    - API í˜¸ì¶œ IP: 162.120.185.40
    - ë¬¸ì„œ ì‘ì„±ì¼: 2025ë…„ 9ì›” 19ì¼

servers:
  - url: https://api.commerce.naver.com
    description: ë„¤ì´ë²„ ì»¤ë¨¸ìŠ¤ API ì„œë²„

tags:
  - name: ì¸ì¦
    description: OAuth 2.0 í† í° ë°œê¸‰
  - name: ìƒí’ˆ ê´€ë¦¬
    description: ìƒí’ˆ ì¡°íšŒ, ë“±ë¡, ìˆ˜ì •
  - name: ì£¼ë¬¸ ê´€ë¦¬
    description: ì£¼ë¬¸ ì¡°íšŒ, ìƒíƒœ ë³€ê²½, ì·¨ì†Œ

paths:
  # ===== í† í° ë°œê¸‰ (ì œì¼ ë¨¼ì € ì‹¤í–‰!) =====
  /external/v1/oauth2/token:
    post:
      tags:
        - ì¸ì¦
      summary: ğŸ”‘ Access Token ë°œê¸‰ (ë¨¼ì € ì‹¤í–‰í•˜ì„¸ìš”!)
      description: |
        ## ì´ APIë¥¼ ë¨¼ì € ì‹¤í–‰í•´ì•¼ ë‹¤ë¥¸ API ì‚¬ìš© ê°€ëŠ¥!
        1. Try it out í´ë¦­
        2. client_secret ì…ë ¥ (íŒ€ ë¦¬ë”ì—ê²Œ ë¬¸ì˜)
        3. Execute ì‹¤í–‰
        4. ì‘ë‹µì—ì„œ access_token ë³µì‚¬
        5. ë‹¤ë¥¸ APIì˜ Authorization í—¤ë”ì— "Bearer {í† í°}" í˜•ì‹ìœ¼ë¡œ ì…ë ¥
      requestBody:
        required: true
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              required:
                - client_id
                - client_secret
                - grant_type
                - type
              properties:
                client_id:
                  type: string
                  default: "5TGnBVoGoWQgKYg6KrDcKW"
                  description: ì• í”Œë¦¬ì¼€ì´ì…˜ ID
                client_secret:
                  type: string
                  example: "YOUR_SECRET_KEY_HERE"
                  description: ì‹œí¬ë¦¿ í‚¤ë¥¼ ì—¬ê¸°ì— ì…ë ¥í•˜ì„¸ìš”
                grant_type:
                  type: string
                  default: "client_credentials"
                type:
                  type: string
                  default: "SELF"
                  enum: [SELF, SELLER]
      responses:
        200:
          description: í† í° ë°œê¸‰ ì„±ê³µ
          content:
            application/json:
              schema:
                type: object
                properties:
                  access_token:
                    type: string
                    description: ì´ í† í°ì„ ë³µì‚¬í•´ì„œ ì‚¬ìš©í•˜ì„¸ìš”
                  token_type:
                    type: string
                  expires_in:
                    type: integer
              example:
                access_token: "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
                token_type: "Bearer"
                expires_in: 86400

  # ===== ìƒí’ˆ ì¡°íšŒ (v2 API) =====
  /v2/products:
    post:
      tags:
        - ìƒí’ˆ ê´€ë¦¬
      summary: ìƒí’ˆ ì¡°íšŒ (ê²€ìƒ‰)
      description: ìƒí’ˆì„ ê²€ìƒ‰í•©ë‹ˆë‹¤
      parameters:
        - name: Authorization
          in: header
          required: true
          description: "Bearer {access_token} í˜•ì‹ìœ¼ë¡œ ì…ë ¥"
          schema:
            type: string
            example: "Bearer eyJ0eXAiOiJKV1QiLCJhbGc..."
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                page:
                  type: integer
                  example: 1
                size:
                  type: integer
                  example: 10
      responses:
        200:
          description: ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                type: object

  # ===== ìƒí’ˆ ë“±ë¡ =====
  /v2/products:
    post:
      tags:
        - ìƒí’ˆ ê´€ë¦¬
      summary: ìƒí’ˆ ë“±ë¡
      description: ì‹ ê·œ ìƒí’ˆì„ ë“±ë¡í•©ë‹ˆë‹¤
      parameters:
        - name: Authorization
          in: header
          required: true
          description: "Bearer {access_token} í˜•ì‹ìœ¼ë¡œ ì…ë ¥"
          schema:
            type: string
            example: "Bearer eyJ0eXAiOiJKV1QiLCJhbGc..."
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - salePrice
                - stockQuantity
              properties:
                name:
                  type: string
                  example: "í…ŒìŠ¤íŠ¸ ìƒí’ˆ"
                salePrice:
                  type: integer
                  example: 10000
                stockQuantity:
                  type: integer
                  example: 100
      responses:
        201:
          description: ë“±ë¡ ì„±ê³µ

  # ===== ì£¼ë¬¸ ì¡°íšŒ (ì‹¤ì œ API ê²½ë¡œ) =====
  /v1/pay-order/seller/product-orders:
    get:
      tags:
        - ì£¼ë¬¸ ê´€ë¦¬
      summary: ì£¼ë¬¸ ìƒí’ˆ ì¡°íšŒ
      description: ì£¼ë¬¸ ìƒí’ˆ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤
      parameters:
        - name: Authorization
          in: header
          required: true
          description: "Bearer {access_token} í˜•ì‹ìœ¼ë¡œ ì…ë ¥"
          schema:
            type: string
            example: "Bearer eyJ0eXAiOiJKV1QiLCJhbGc..."
        - name: lastChangedFrom
          in: query
          required: true
          description: ì¡°íšŒ ì‹œì‘ì¼ (yyyy-MM-dd'T'HH:mm:ss.SSSXXX)
          schema:
            type: string
            example: "2025-09-01T00:00:00.000+09:00"
        - name: lastChangedTo
          in: query
          required: true
          description: ì¡°íšŒ ì¢…ë£Œì¼
          schema:
            type: string
            example: "2025-09-19T23:59:59.999+09:00"
        - name: lastChangedType
          in: query
          required: true
          description: ì¡°íšŒ ê¸°ì¤€ (PAID_DATE, PRODUCT_ORDER_DATE, CLAIM_DATE ë“±)
          schema:
            type: string
            enum: [PAID_DATE, PRODUCT_ORDER_DATE, DISPATCHED_DATE, CLAIM_DATE]
            default: "PAID_DATE"
        - name: productOrderStatus
          in: query
          description: ì£¼ë¬¸ ìƒíƒœ
          schema:
            type: string
            enum: [PAYMENT_WAITING, PAYED, DELIVERING, DELIVERED, CANCELED]
      responses:
        200:
          description: ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                type: object
                properties:
                  content:
                    type: array
                    items:
                      type: object

  # ===== ì£¼ë¬¸ ìƒíƒœ ì¡°íšŒ API =====
  /v1/pay-order/seller/product-orders/last-changed-statuses:
    get:
      tags:
        - ì£¼ë¬¸ ê´€ë¦¬
      summary: ìµœê·¼ ë³€ê²½ëœ ì£¼ë¬¸ ìƒíƒœ ì¡°íšŒ
      description: ìµœê·¼ ë³€ê²½ëœ ì£¼ë¬¸ ìƒíƒœë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤
      parameters:
        - name: Authorization
          in: header
          required: true
          description: "Bearer {access_token} í˜•ì‹ìœ¼ë¡œ ì…ë ¥"
          schema:
            type: string
            example: "Bearer eyJ0eXAiOiJKV1QiLCJhbGc..."
        - name: lastChangedFrom
          in: query
          required: true
          schema:
            type: string
            example: "2025-09-01T00:00:00.000+09:00"
        - name: lastChangedTo
          in: query
          required: true
          schema:
            type: string
            example: "2025-09-19T23:59:59.999+09:00"
      responses:
        200:
          description: ì¡°íšŒ ì„±ê³µ

  # ===== ë°œì†¡ ì²˜ë¦¬ =====
  /v1/pay-order/seller/product-orders/dispatch:
    post:
      tags:
        - ì£¼ë¬¸ ê´€ë¦¬
      summary: ë°œì†¡ ì²˜ë¦¬
      description: ì£¼ë¬¸ì„ ë°œì†¡ ì²˜ë¦¬í•©ë‹ˆë‹¤
      parameters:
        - name: Authorization
          in: header
          required: true
          description: "Bearer {access_token} í˜•ì‹ìœ¼ë¡œ ì…ë ¥"
          schema:
            type: string
            example: "Bearer eyJ0eXAiOiJKV1QiLCJhbGc..."
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                productOrderIds:
                  type: array
                  items:
                    type: string
                  example: ["2025091912345678"]
                deliveryMethod:
                  type: string
                  enum: [DELIVERY, DIRECT_DELIVERY, QUICK_SERVICE, VISIT_RECEIPT]
                  example: "DELIVERY"
                deliveryCompanyCode:
                  type: string
                  example: "CJGLS"
                trackingNumber:
                  type: string
                  example: "123456789012"
      responses:
        200:
          description: ë°œì†¡ ì²˜ë¦¬ ì„±ê³µ

  # ===== ì£¼ë¬¸ ì·¨ì†Œ ìŠ¹ì¸ =====
  /v1/pay-order/seller/product-orders/{productOrderId}/claim/cancel/approve:
    post:
      tags:
        - ì£¼ë¬¸ ê´€ë¦¬
      summary: ì·¨ì†Œ ìŠ¹ì¸
      description: êµ¬ë§¤ìê°€ ìš”ì²­í•œ ì·¨ì†Œë¥¼ ìŠ¹ì¸í•©ë‹ˆë‹¤
      parameters:
        - name: Authorization
          in: header
          required: true
          description: "Bearer {access_token} í˜•ì‹ìœ¼ë¡œ ì…ë ¥"
          schema:
            type: string
            example: "Bearer eyJ0eXAiOiJKV1QiLCJhbGc..."
        - name: productOrderId
          in: path
          required: true
          description: ìƒí’ˆ ì£¼ë¬¸ ë²ˆí˜¸
          schema:
            type: string
            example: "2025091912345678"
      responses:
        200:
          description: ì·¨ì†Œ ìŠ¹ì¸ ì„±ê³µ
